<!doctype html>
<html class="h-full">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>
  <link href="https://fonts.googleapis.com/css2?family=Meow+Script&display=swap" rel="stylesheet">

  <style>
    .sidebar-gradient {
      background: linear-gradient(180deg, #1E326F 0%, #090C38 100%);
    }
  </style>
</head>

<body class="min-h-screen bg-gray-200 px-6 antialiased">

  <!-- CONTAINER -->
  <div class="mx-auto max-w-[1024px] w-full h-screen bg-white flex flex-row overflow-hidden">

    <!-- LEFT SIDEBAR -->
    <div class="sidebar-gradient w-[325px] shrink-0 self-stretch flex flex-col p-[56px] gap-[35px]">

      <!-- Logo -->
      <button class="ml-auto flex items-center gap-3 p-2.5 rounded-lg bg-gray-900/25 hover:bg-gray-900/35">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
          <path
            d="M18.6709 15.8289L15.1834 13.8033L8.12004 17.9137L18.5088 23.9562C18.666 24.0449 18.8625 23.9956 18.9558 23.8379C18.9853 23.7886 19 23.7295 19 23.6703L19 16.4007C19 16.1641 18.8772 15.9472 18.6709 15.8289Z"
            fill="white" />
          <path
            d="M18.6709 10.171C18.8772 10.0527 19 9.83584 19 9.59926L19 2.32958C19 2.27044 18.9853 2.2113 18.9558 2.16201C18.8674 2.0043 18.666 1.95501 18.5088 2.04372L6.92153 8.78112C6.81838 8.84026 6.75453 8.94869 6.74961 9.06697L6.74961 17.1006L18.6709 10.171Z"
            fill="white" />
        </svg>
      </button>

      <!-- Stepper Nav -->
      <nav aria-label="Progress">
        <ol role="list" class="space-y-6">
          <li>
            <a href="confirm-identity.html" class="group">
              <span class="flex items-start">
                <span class="relative flex size-5 shrink-0 items-center justify-center">
                  <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"
                    class="size-full text-white group-hover:text-blue-300">
                    <path
                      d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z"
                      clip-rule="evenodd" fill-rule="evenodd" />
                  </svg>
                </span>
                <span class="ml-3 text-sm font-medium text-white group-hover:text-white">Confirm Identity</span>
              </span>
            </a>
          </li>

          <li>
            <a href="confirm-identity.html" class="group">
              <span class="flex items-start">
                <span class="relative flex size-5 shrink-0 items-center justify-center">
                  <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"
                    class="size-full text-white group-hover:text-blue-300">
                    <path
                      d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z"
                      clip-rule="evenodd" fill-rule="evenodd" />
                  </svg>
                </span>
                <span class="ml-3 text-sm font-medium text-white group-hover:text-white">Confirm Business Details</span>
              </span>
            </a>
          </li>

          <li>
            <a href="confirm-identity.html" class="group">
              <span class="flex items-start">
                <span class="relative flex size-5 shrink-0 items-center justify-center">
                  <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"
                    class="size-full text-white group-hover:text-blue-300">
                    <path
                      d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z"
                      clip-rule="evenodd" fill-rule="evenodd" />
                  </svg>
                </span>
                <span class="ml-3 text-sm font-medium text-white group-hover:text-white">Review Documents</span>
              </span>
            </a>
          </li>

          <li>
            <a href="#" aria-current="step" class="flex items-start">
              <span aria-hidden="true" class="relative flex size-5 shrink-0 items-center justify-center">
                <span class="absolute size-4 rounded-full bg-white/20"></span>
                <span class="relative block size-2 rounded-full bg-white"></span>
              </span>
              <span class="ml-3 text-sm font-medium text-white">Provide Signature</span>
            </a>
          </li>


          <li>
            <a href="#" class="group">
              <div class="flex items-start">
                <div aria-hidden="true" class="relative flex size-5 shrink-0 items-center justify-center">
                  <div class="size-2 rounded-full bg-white/15 group-hover:bg-white/25"></div>
                </div>
                <p class="ml-3 text-sm font-medium text-white/30 group-hover:text-white">Confirm Payment</p>
              </div>
            </a>
          </li>

          <li>
            <a href="#" class="group">
              <div class="flex items-start">
                <div aria-hidden="true" class="relative flex size-5 shrink-0 items-center justify-center">
                  <div class="size-2 rounded-full bg-white/15 group-hover:bg-white/25"></div>
                </div>
                <p class="ml-3 text-sm font-medium text-white/30 group-hover:text-white">Create an Account</p>
              </div>
            </a>
          </li>

          <li>
            <a href="#" class="group">
              <div class="flex items-start">
                <div aria-hidden="true" class="relative flex size-5 shrink-0 items-center justify-center">
                  <div class="size-2 rounded-full bg-white/15 group-hover:bg-white/25"></div>
                </div>
                <p class="ml-3 text-sm font-medium text-white/30 group-hover:text-white">Complete</p>
              </div>
            </a>
          </li>
        </ol>
      </nav>
    </div>

    <!-- RIGHT COLUMN -->
    <div class="flex-1 flex flex-col min-h-0 overflow-y-auto">
      <div class="min-h-screen flex flex-col">

        <!-- Content area -->
        <div class="flex-1 flex flex-col items-center px-10 pt-12 pb-8">
          <div class="w-full max-w-[640px]">
            <h1 class="text-3xl font-bold text-gray-900">Sign for Payment</h1>


            <!-- Canvas -->
            <div class="mt-6 hidden sm:block">
              <nav aria-label="Tabs" class="flex space-x-4">
                <button id="tab-draw" type="button" aria-current="page"
                  class="rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-900">
                  Draw
                </button>
                <button id="tab-type" type="button"
                  class="rounded-md px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700">
                  Type
                </button>
              </nav>
            </div>

            <!-- TYPE input (hidden by default). 24px gap to box = mt-6 -->
            <div id="type-input-wrap" class="mt-6 hidden">
              <div>
                <label for="fullName" class="block text-sm/6 font-medium text-gray-900 dark:text-white">Your Full
                  Name</label>
                <div class="mt-2">
                  <input id="fullName" type="text" name="fullName" placeholder="Type your full name"
                    class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" />
                </div>
              </div>
            </div>

            <!-- Signature area -->
            <div
              class="relative mt-6 flex h-[296px] w-full flex-col items-center gap-4 self-stretch rounded-2xl border border-gray-200 bg-gray-50 p-4">

              <canvas id="signature-canvas" class="h-full w-full rounded-lg"></canvas>

              <button id="clear-signature" type="button"
                class="absolute top-4 right-4 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs inset-ring inset-ring-gray-300 hover:bg-gray-50">
                Clear
              </button>

            </div>


          </div>

          <div class="w-full max-w-[640px] mt-auto pt-10 pb-6">

            <div class="mt-6 flex items-center gap-6">


              <button id="next-button" type="button" disabled
                class="inline-flex h-11 flex-1 items-center justify-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:cursor-not-allowed disabled:bg-blue-300 disabled:hover:bg-blue-300">
                Sign & Go next

              </button>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="flex items-center justify-center gap-1.5 py-5 px-6">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path
              d="M8.91309 1.125C11.4548 3.2985 15.5771 3.43066 15.5771 3.43066V9.22656C15.5767 12.7831 8.91309 16.875 8.91309 16.875C8.86421 16.8449 2.25042 12.77 2.25 9.22656V3.43066C2.25 3.43066 6.37134 3.29832 8.91309 1.125ZM7.2793 9.90918C7.2091 9.94947 7.16702 10.0229 7.16699 10.1035V12.5801C7.16699 12.6002 7.17163 12.6209 7.18164 12.6377C7.21173 12.6914 7.28048 12.708 7.33398 12.6777L11.2783 10.3828C11.3134 10.3627 11.3352 10.3254 11.3369 10.2852V7.54785L7.2793 9.90918ZM7.33398 5.21191C7.28052 5.18171 7.21343 5.19831 7.18164 5.25195C7.17161 5.26875 7.16699 5.28942 7.16699 5.30957V7.78613C7.16699 7.86667 7.2082 7.94112 7.27832 7.98145L8.46582 8.6709L10.8701 7.27051L7.33398 5.21191Z"
              fill="#0089CF" />
          </svg>
          <span class="text-xs text-gray-700">
            Powered by <span class="font-bold">Transcard</span>
            <span class="mx-1">|</span>
            <a href="#" class="text-gray-700 hover:underline">Terms of Use</a>
            <span class="mx-0.5">&bull;</span>
            <a href="#" class="text-gray-700 hover:underline">Privacy Policy</a>
            <span class="mx-0.5">&bull;</span>
            <a href="#" class="text-gray-700 hover:underline">E-Sign Consent</a>
          </span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('signature-canvas');
    const clearButton = document.getElementById('clear-signature');
    const nextButton = document.getElementById('next-button');
    const context = canvas.getContext('2d');

    const tabDraw = document.getElementById('tab-draw');
    const tabType = document.getElementById('tab-type');
    const typeWrap = document.getElementById('type-input-wrap');
    const fullNameInput = document.getElementById('fullName');

    let isDrawing = false;
    let hasSignature = false;
    let mode = 'draw'; // 'draw' | 'type'

    function setCanvasSize() {
      const ratio = window.devicePixelRatio || 1;
      const bounds = canvas.getBoundingClientRect();
      canvas.width = Math.floor(bounds.width * ratio);
      canvas.height = Math.floor(bounds.height * ratio);
      context.setTransform(ratio, 0, 0, ratio, 0, 0);
      context.lineCap = 'round';
      context.lineJoin = 'round';
      context.lineWidth = 2.5;
      context.strokeStyle = '#111827';

      // redraw typed name if in type mode
      if (mode === 'type') drawTypedSignature(fullNameInput.value || '');
    }

    function updateNextButtonState() {
      nextButton.disabled = !hasSignature;
    }

    function getPoint(event) {
      const rect = canvas.getBoundingClientRect();
      return { x: event.clientX - rect.left, y: event.clientY - rect.top };
    }

    function handlePointerDown(event) {
      if (mode !== 'draw') return;
      event.preventDefault();
      isDrawing = true;
      const point = getPoint(event);
      context.beginPath();
      context.moveTo(point.x, point.y);
    }

    function handlePointerMove(event) {
      if (mode !== 'draw' || !isDrawing) return;
      event.preventDefault();
      const point = getPoint(event);
      context.lineTo(point.x, point.y);
      context.stroke();
      if (!hasSignature) {
        hasSignature = true;
        updateNextButtonState();
      }
    }

    function handlePointerUp() {
      if (mode !== 'draw') return;
      isDrawing = false;
      context.closePath();
    }

    function clearCanvas() {
      context.clearRect(0, 0, canvas.width, canvas.height);
    }

    function drawTypedSignature(text) {
      clearCanvas();

      const safe = (text || '').trim();
      if (!safe) {
        hasSignature = false;
        updateNextButtonState();
        return;
      }

      // "script" vibe using common cursive stack
      context.save();
      context.fillStyle = '#111827';
      context.textAlign = 'center';
      context.textBaseline = 'middle';

      // pick a font size that fits width
      const maxWidth = canvas.getBoundingClientRect().width - 48; // padding-ish
      let fontSize = 72;
      const fontStack = "'Meow Script', cursive";

      while (fontSize > 24) {
        context.font = `${fontSize}px ${fontStack}`;
        if (context.measureText(safe).width <= maxWidth) break;
        fontSize -= 2;
      }

      const cx = canvas.getBoundingClientRect().width / 2;
      const cy = canvas.getBoundingClientRect().height / 2;

      context.fillText(safe, cx, cy);
      context.restore();

      hasSignature = true;
      updateNextButtonState();
    }

    function setMode(nextMode) {
      mode = nextMode;

      // Tabs styling
      if (mode === 'draw') {
        tabDraw.className = "rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-900";
        tabDraw.setAttribute('aria-current', 'page');

        tabType.className = "rounded-md px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700";
        tabType.removeAttribute('aria-current');

        typeWrap.classList.add('hidden');

        // enable drawing behavior
        canvas.style.pointerEvents = 'auto';
        // keep whatever was drawn before
      } else {
        tabType.className = "rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-900";
        tabType.setAttribute('aria-current', 'page');

        tabDraw.className = "rounded-md px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700";
        tabDraw.removeAttribute('aria-current');

        typeWrap.classList.remove('hidden');

        // disable drawing interaction
        canvas.style.pointerEvents = 'none';

        drawTypedSignature(fullNameInput.value || '');
      }
    }

    // Events
    tabDraw.addEventListener('click', () => setMode('draw'));
    tabType.addEventListener('click', () => setMode('type'));

    fullNameInput?.addEventListener('input', (e) => {
      if (mode !== 'type') return;
      drawTypedSignature(e.target.value);
    });

    clearButton.addEventListener('click', () => {
      clearCanvas();
      hasSignature = false;
      updateNextButtonState();
      if (mode === 'type') {
        fullNameInput.value = '';
      }
    });

    
    canvas.addEventListener('pointerdown', handlePointerDown);
    canvas.addEventListener('pointermove', handlePointerMove);
    canvas.addEventListener('pointerup', handlePointerUp);
    canvas.addEventListener('pointerleave', handlePointerUp);
    canvas.addEventListener('pointercancel', handlePointerUp);

    window.addEventListener('resize', setCanvasSize);

    
    // init
    setCanvasSize();
    updateNextButtonState();
    setMode('draw');

    nextButton.addEventListener('click', () => {
      if (!nextButton.disabled) {
        window.location.href = 'paywall.html';
      }
    });
    updateNextState();
  </script>

</body>

</html>